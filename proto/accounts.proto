syntax = "proto3";

package accounts;

service AccountsService {
  rpc FindOne (FindAccountRequest) returns (FindAccountResponse) {}
	rpc FindMany (FindAccountsRequest) returns (FindAccountsResponse) {}
	rpc FindMetadata (FindMetadataRequest) returns (FindMetadataResponse) {}
	rpc CreateMetadata (CreateMetadataRequest) returns (CreateMetadataResponse) {}
}

message Account {
  string address = 1;
  string name = 2;
	repeated Metadata meta = 3;
}

message Metadata {
	string key = 1;
	string value = 2;
}

message FindAccountRequest {
  string name = 1;
}

message FindAccountResponse {
  int32 status = 1;
  repeated string error = 2;
  Account data = 3;
}

message FindAccountsRequest {
  string searchString = 1;
	int32 take = 2;
	int32 skip = 3;
	string orderBy = 4;
}

message FindAccountsResponse {
  int32 status = 1;
  repeated string error = 2;
  repeated Account data = 3;
}

message FindMetadataRequest {
	string name = 1;
  string searchString = 2;
	int32 take = 3;
	int32 skip = 4;
	string orderBy = 5;
}

message FindMetadataResponse {
  int32 status = 1;
  repeated string error = 2;
  repeated Metadata data = 3;
}

message CreateMetadataRequest {
  string name = 1;
	string key = 2;
	string value = 3;
}

message CreateMetadataResponse {
  int32 status = 1;
  repeated string error = 2;
  int32 data = 3;
}